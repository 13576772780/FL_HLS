#库导入
import matplotlib.pyplot as plt
import numpy as np

# 准备数据
# x = ["p=0", "p=0.4", "p=0.6", "p=0.8"]
x = np.arange(1, 102, 1)
x2 = np.arange(1, 102, 0.5)
# fedavg_medal_x = [1.6811084747314453, 3.3622169494628906, 4.672849416732788, 5.9834818840026855, 7.127580165863037, 8.271678447723389, 9.39641809463501, 10.52115774154663, 11.66021203994751, 12.799266338348389, 13.935604333877563, 15.071942329406738, 16.19791293144226, 17.323883533477783, 18.438376903533936, 19.552870273590088, 20.646727800369263, 21.740585327148438, 22.814521074295044, 23.88845682144165, 24.975128889083862, 26.061800956726074, 27.148024559020996, 28.234248161315918, 29.323287963867188, 30.412327766418457, 31.50862407684326, 32.604920387268066, 33.71169662475586, 34.81847286224365, 35.919536113739014, 37.020599365234375, 38.12791848182678, 39.23523759841919, 40.34727764129639, 41.459317684173584, 42.56530237197876, 43.671287059783936, 44.77954912185669, 45.88781118392944, 46.994537115097046, 48.10126304626465, 49.20627689361572, 50.3112907409668, 51.415770053863525, 52.520249366760254, 53.612438678741455, 54.704627990722656, 55.80510139465332, 56.905574798583984, 58.00318241119385, 59.10079002380371, 60.1974573135376, 61.294124603271484, 62.390191316604614, 63.486258029937744, 64.74279165267944, 65.99932527542114, 67.25357699394226, 68.50782871246338, 69.75015449523926, 70.99248027801514, 72.2367103099823, 73.48094034194946, 74.55006432533264, 75.61918830871582, 76.68990564346313, 77.76062297821045, 78.82586026191711, 79.89109754562378, 80.96052670478821, 82.02995586395264, 83.09397411346436, 84.15799236297607, 85.22475528717041, 86.29151821136475, 87.3569724559784, 88.42242670059204, 89.4893729686737, 90.55631923675537, 91.62490701675415, 92.69349479675293, 93.76068806648254, 94.82788133621216, 95.89255380630493, 96.9572262763977, 98.02196598052979, 99.08670568466187, 100.14728569984436, 101.20786571502686, 102.28666353225708, 103.3654613494873, 104.43965315818787, 105.51384496688843, 106.57636141777039, 107.63887786865234, 108.70516753196716, 109.77145719528198, 110.85244941711426, 111.93344163894653, 112.99579691886902, 114.0581521987915, 115.12501668930054, 116.19188117980957, 117.26095175743103, 118.33002233505249, 119.41100358963013, 120.49198484420776, 121.56521248817444, 122.63844013214111, 123.70864081382751, 124.77884149551392, 125.85973191261292, 126.94062232971191, 128.0102834701538, 129.0799446105957, 130.1505286693573, 131.2211127281189, 132.29502320289612, 133.36893367767334, 134.4447638988495, 135.52059412002563, 136.59773516654968, 137.67487621307373, 138.7459053993225, 139.8169345855713, 140.88190913200378, 141.94688367843628, 143.01575016975403, 144.08461666107178, 145.16727328300476, 146.24992990493774, 147.31527137756348, 148.3806128501892, 149.4517526626587, 150.52289247512817, 151.59383416175842, 152.66477584838867, 153.75134181976318, 154.8379077911377, 155.9128692150116, 156.9878306388855, 158.06112480163574, 159.134418964386, 160.21277785301208, 161.29113674163818, 162.41658091545105, 163.54202508926392, 164.6165931224823, 165.69116115570068, 166.76088428497314, 167.8306074142456, 168.89793252944946, 169.96525764465332, 171.02998423576355, 172.09471082687378, 173.1582522392273, 174.2217936515808, 175.28647923469543, 176.35116481781006, 177.41350507736206, 178.47584533691406, 179.53649926185608, 180.5971531867981, 181.66053915023804, 182.72392511367798, 183.78530955314636, 184.84669399261475, 185.93780732154846, 187.02892065048218, 188.10616207122803, 189.18340349197388, 190.26209473609924, 191.3407859802246, 192.404714345932, 193.4686427116394, 194.51056051254272, 195.55247831344604, 196.53870248794556, 197.52492666244507, 198.50688409805298, 199.4888415336609, 200.477117061615, 201.4653925895691, 202.4582805633545, 203.4511685371399, 204.4370002746582, 205.4228320121765, 206.53328776359558, 207.64374351501465, 208.77508187294006, 209.90642023086548, 210.9901783466339, 212.07393646240234, 213.17386841773987, 214.2738003730774, 215.3566484451294, 216.4394965171814, 217.55137014389038, 218.66324377059937, 220.8752748966217, 223.08730602264404]
# fedaprox_medal_x = [1.4382789134979248, 2.8765578269958496, 4.049495220184326, 5.222432613372803, 6.390047550201416, 7.557662487030029, 8.725708723068237, 9.893754959106445, 11.05773639678955, 12.221717834472656, 13.403748750686646, 14.585779666900635, 15.770224571228027, 16.95466947555542, 18.127458572387695, 19.30024766921997, 20.47027349472046, 21.640299320220947, 22.817081451416016, 23.993863582611084, 25.17051601409912, 26.347168445587158, 27.523112297058105, 28.699056148529053, 29.870582818984985, 31.042109489440918, 32.202261209487915, 33.36241292953491, 34.53630828857422, 35.710203647613525, 36.8894317150116, 38.06865978240967, 39.23263716697693, 40.39661455154419, 41.571759939193726, 42.74690532684326, 43.91853332519531, 45.09016132354736, 46.26702308654785, 47.44388484954834, 48.61648225784302, 49.789079666137695, 50.96270561218262, 52.13633155822754, 53.31851005554199, 54.500688552856445, 55.67731189727783, 56.85393524169922, 58.0294668674469, 59.20499849319458, 60.376380920410156, 61.54776334762573, 62.72992205619812, 63.91208076477051, 65.099538564682, 66.2869963645935, 67.47846221923828, 68.66992807388306, 69.87774348258972, 71.08555889129639, 72.26775598526001, 73.44995307922363, 74.6409957408905, 75.83203840255737, 77.01823019981384, 78.20442199707031, 79.37394571304321, 80.54346942901611, 81.71371793746948, 82.88396644592285, 84.05624604225159, 85.22852563858032, 86.40200686454773, 87.57548809051514, 88.75274467468262, 89.9300012588501, 91.10408043861389, 92.27815961837769, 93.44920086860657, 94.62024211883545, 95.79722690582275, 96.97421169281006, 98.15014672279358, 99.3260817527771, 100.49946522712708, 101.67284870147705, 102.84986209869385, 104.02687549591064, 105.20762634277344, 106.38837718963623, 107.56579995155334, 108.74322271347046, 109.9218225479126, 111.10042238235474, 112.28236675262451, 113.46431112289429, 114.64250445365906, 115.82069778442383, 116.99508094787598, 118.16946411132812, 119.33922386169434, 120.50898361206055, 121.6840090751648, 122.85903453826904, 124.02606439590454, 125.19309425354004, 126.36542916297913, 127.53776407241821, 128.70688128471375, 129.87599849700928, 131.05928301811218, 132.2425675392151, 133.4155352115631, 134.58850288391113, 135.7634036540985, 136.9383044242859, 138.10978269577026, 139.28126096725464, 140.45589566230774, 141.63053035736084, 142.8024640083313, 143.97439765930176, 145.15668272972107, 146.33896780014038, 147.51763153076172, 148.69629526138306, 149.87175345420837, 151.0472116470337, 152.23918795585632, 153.43116426467896, 154.8283829689026, 156.22560167312622, 157.59424996376038, 158.96289825439453, 160.33500051498413, 161.70710277557373, 163.08057713508606, 164.4540514945984, 165.82673001289368, 167.19940853118896, 168.58118319511414, 169.9629578590393, 171.34963297843933, 172.73630809783936, 174.1144871711731, 175.49266624450684, 176.87386512756348, 178.25506401062012, 179.63738083839417, 181.0196976661682, 182.4029414653778, 183.7861852645874, 185.16657996177673, 186.54697465896606, 187.73918747901917, 188.93140029907227, 190.1728663444519, 191.41433238983154, 192.6577000617981, 193.90106773376465, 195.13997650146484, 196.37888526916504, 197.61668729782104, 198.85448932647705, 199.94191765785217, 201.0293459892273, 202.26318526268005, 203.4970245361328, 204.69719552993774, 205.89736652374268, 207.1140434741974, 208.3307204246521, 209.52142977714539, 210.71213912963867, 211.90529489517212, 213.09845066070557, 214.30946922302246, 215.52048778533936, 216.76042222976685, 218.00035667419434, 219.2077476978302, 220.41513872146606, 221.61620044708252, 222.81726217269897, 224.01645064353943, 225.21563911437988, 226.41122150421143, 227.60680389404297, 228.8042230606079, 230.00164222717285, 231.2076814174652, 232.41372060775757, 233.6341996192932, 234.85467863082886, 236.23890280723572, 237.62312698364258, 239.01043128967285, 240.39773559570312, 241.85588955879211, 243.3140435218811, 246.17446613311768, 249.03488874435425]
# co_teaching_x = [2.6899702548980713, 5.048058032989502, 7.420120716094971, 9.822532653808594, 12.216702699661255, 14.600996732711792, 16.96165633201599, 19.31909966468811, 21.679811477661133, 24.023550033569336, 26.371569871902466, 28.74943208694458, 31.088688135147095, 33.4414005279541, 35.783501625061035, 38.13462972640991, 40.48276329040527, 42.85126042366028, 45.23660445213318, 47.62449812889099, 50.0358362197876, 52.40330696105957, 54.801560401916504, 57.203794956207275, 59.60980701446533, 61.98866271972656, 64.35197353363037, 66.71540904045105, 69.08863115310669, 71.45601224899292, 73.8261251449585, 76.20026278495789, 78.57068157196045, 80.95511794090271, 83.33620500564575, 85.71791386604309, 88.09838318824768, 90.4833836555481, 92.86416172981262, 95.24072742462158, 97.61496615409851, 100.00012755393982, 102.37949657440186, 104.7902283668518, 107.15415024757385, 109.54252624511719, 111.89577269554138, 114.2468843460083, 116.56286358833313, 118.7643518447876, 120.95147633552551, 123.14621806144714, 125.33594012260437, 127.80438184738159, 130.27515578269958, 132.68852281570435, 135.09831309318542, 137.52618622779846, 139.9146580696106, 142.3050079345703, 144.70867776870728, 147.11662411689758, 149.53073287010193, 151.97142124176025, 154.3888702392578, 156.80473065376282, 159.25016593933105, 161.71449637413025, 164.16722702980042, 166.58799862861633, 169.0019063949585, 171.41925954818726, 173.8396565914154, 176.2744071483612, 178.69275164604187, 181.14853310585022, 183.5596890449524, 185.9883370399475, 188.4157247543335, 190.83906316757202, 193.5892071723938, 196.368102312088, 199.1205632686615, 201.8192994594574, 204.51834321022034, 207.2158727645874, 209.91234874725342, 212.60232877731323, 214.9407880306244, 217.29051446914673, 219.6896390914917, 222.06073999404907, 224.48590970039368, 226.91407012939453, 229.33545875549316, 231.75837421417236, 234.18438363075256, 236.59617829322815, 239.02413868904114, 241.4476547241211, 245.8083996772766]
# fedcspl_medal_x = [1.6986682415008545, 3.1031479835510254, 4.504796743392944, 5.910546541213989, 7.317556381225586, 8.586451292037964, 9.852361679077148, 11.14523959159851, 12.443506002426147, 13.708016395568848, 14.971048831939697, 16.235045433044434, 17.501178979873657, 18.768975734710693, 20.031384468078613, 21.294382095336914, 22.560909509658813, 23.82760214805603, 25.095706939697266, 26.36255431175232, 30.786330699920654, 36.60312819480896, 42.37842059135437, 48.190563678741455, 53.98860216140747, 55.25645351409912, 61.05031132698059, 62.31910705566406, 68.10758829116821, 73.91204643249512, 79.69904899597168, 85.47441029548645, 91.24654221534729, 97.03275871276855, 102.80034255981445, 108.59764838218689, 114.40329504013062, 120.20510649681091, 125.99997138977051, 131.79677748680115, 137.59260535240173, 143.39889669418335, 149.19909358024597, 155.01377367973328, 160.75783252716064, 166.5196876525879, 167.7778799533844, 173.54355120658875, 179.3385398387909, 180.6010971069336, 181.86214351654053, 187.69437456130981, 193.486430644989, 199.31564235687256, 205.1235375404358, 210.94283246994019, 216.7500376701355, 222.54084372520447, 223.80882596969604, 229.6118769645691, 235.40588974952698, 241.19639563560486, 242.46451020240784, 248.2619550228119, 254.0745530128479, 259.8467152118683, 265.6270203590393, 271.437308549881, 272.7048296928406, 278.51583218574524, 284.3115530014038, 290.1249928474426, 295.90386939048767, 301.68687295913696, 307.4653391838074, 313.2399182319641, 319.01767921447754, 324.78946828842163, 330.59208703041077, 336.41307520866394, 337.6808593273163, 338.9494845867157, 340.2195839881897, 341.4880199432373, 342.75684785842896, 344.0254774093628, 345.29390692710876, 346.562548160553, 347.8304715156555, 349.09851479530334, 350.35846614837646, 351.6212885379791, 352.88482451438904, 354.14937829971313, 355.4114751815796, 356.6747877597809, 357.93842244148254, 359.20210909843445, 360.4699053764343, 366.29778695106506, 373.9476306438446]


# fedavg_medal = [60.85,	64.16,	68.92,	71.71,	76.08]
# fedrep_medal = [76.17,	79.62,	83.59,	85.23,	85.74]
# scaffold_medal = [62.18,	69.57,	73.1,	75.85,	77.12]
# ditto_medal= [66.01,	71.19,	75.51,	78.11,	78.4]
# fedpls_medal = [77.45,	81.23,	84.85,	86.36,	86.47]

fedavg_medal = [42.94, 42.94, 46.52, 46.52, 49.25, 49.25, 50.02, 50.02, 52.02, 52.02, 52.42, 52.42, 52.92, 52.92, 56.04, 56.04, 57.23, 57.23, 57.69, 57.69, 58.73, 58.73, 59.38, 59.38, 59.76, 59.76, 60.67, 60.67, 61.86, 61.86, 62.38, 62.38, 62.97, 62.97, 63.99, 63.99, 64.49, 64.49, 64.88, 64.88, 65.19, 65.19, 65.39, 65.39, 65.58, 65.58, 65.16, 65.16, 65.36, 65.36, 65.68, 65.68, 66.19, 66.19, 66.46, 66.46, 66.31, 66.31, 66.61, 66.61, 66.92, 66.92, 66.74, 66.74, 66.75, 66.75, 66.89, 66.89, 67.11, 67.11, 66.78, 66.78, 66.9, 66.9, 67.24, 67.24, 67.05, 67.05, 67.4, 67.4, 67.77, 67.77, 67.61, 67.61, 67.43, 67.43, 68.62, 68.62, 68.49, 68.49, 68.5, 68.5, 68.38, 68.38, 68.2, 68.2, 68.3, 68.3, 68.3, 68.3, 68.43, 68.43, 68.56, 68.56, 68.04, 68.04, 67.85, 67.85, 67.98, 67.98, 67.9, 67.9, 67.95, 67.95, 68.19, 68.19, 67.79, 67.79, 67.98, 67.98, 67.77, 67.77, 68.17, 68.17, 68.38, 68.38, 67.87, 67.87, 68.48, 68.48, 68.39, 68.39, 68.12, 68.12, 68.43, 68.43, 68.01, 68.01, 68.12, 68.12, 67.75, 67.75, 68.13, 68.13, 68.47, 68.47, 68.78, 68.78, 68.75, 68.75, 68.88, 68.88, 69.19, 69.19, 68.86, 68.86, 69.12, 69.12, 68.7, 68.7, 69.16, 69.16, 69.25, 69.25, 69.05, 69.05, 69.04, 69.04, 69.01, 69.01, 68.92, 68.92, 69.05, 69.05, 68.73, 68.73, 68.55, 68.55, 68.3, 68.3, 68.98, 68.98, 69.2, 69.2, 69.21, 69.21, 69.36, 69.36, 69.47, 69.47, 69.21, 69.21, 69.14, 69.14, 68.91, 68.91, 69.06, 69.06, 69.22, 69.22, 68.81, 68.81]

fedaprox_medal = [41.87, 41.87, 47.32, 47.32, 48.89, 48.89, 50.11, 50.11, 52.54, 52.54, 53.01, 53.01, 54.16, 54.16, 56.98, 56.98, 57.3, 57.3, 57.21, 57.21, 58.71, 58.71, 59.31, 59.31, 59.81, 59.81, 61.64, 61.64, 62.43, 62.43, 62.99, 62.99, 63.48, 63.48, 63.89, 63.89, 64.02, 64.02, 64.37, 64.37, 64.93, 64.93, 64.94, 64.94, 65.06, 65.06, 65.01, 65.01, 65.24, 65.24, 65.0, 65.0, 66.13, 66.13, 66.73, 66.73, 67.1, 67.1, 67.59, 67.59, 67.93, 67.93, 67.85, 67.85, 67.3, 67.3, 68.13, 68.13, 67.95, 67.95, 67.54, 67.54, 67.38, 67.38, 67.78, 67.78, 68.04, 68.04, 67.96, 67.96, 66.96, 66.96, 67.34, 67.34, 67.61, 67.61, 67.92, 67.92, 68.92, 68.92, 69.35, 69.35, 69.58, 69.58, 69.59, 69.59, 69.57, 69.57, 69.91, 69.91, 70.0, 70.0, 69.94, 69.94, 70.47, 70.47, 70.97, 70.97, 70.71, 70.71, 70.97, 70.97, 70.39, 70.39, 70.56, 70.56, 70.81, 70.81, 70.79, 70.79, 70.62, 70.62, 70.65, 70.65, 70.61, 70.61, 70.8, 70.8, 71.39, 71.39, 71.61, 71.61, 71.47, 71.47, 71.46, 71.46, 71.56, 71.56, 71.7, 71.7, 71.42, 71.42, 71.74, 71.74, 71.58, 71.58, 71.65, 71.65, 71.18, 71.18, 71.13, 71.13, 71.3, 71.3, 70.94, 70.94, 70.91, 70.91, 70.8, 70.8, 71.75, 71.75, 72.01, 72.01, 71.56, 71.56, 71.92, 71.92, 71.88, 71.88, 71.75, 71.75, 71.42, 71.42, 71.23, 71.23, 71.14, 71.14, 71.55, 71.55, 71.59, 71.59, 71.9, 71.9, 72.07, 72.07, 71.84, 71.84, 71.64, 71.64, 71.89, 71.89, 72.03, 72.03, 72.21, 72.21, 71.49, 71.49, 71.12, 71.12, 71.71, 71.71]

co_teaching = [41.09, 45.78, 47.13, 48.17, 50.47, 51.22, 51.95, 55.41, 55.81, 56.91, 58.57, 58.75, 59.35, 60.73, 62.0, 62.15, 63.13, 63.86, 64.11, 63.79, 64.3, 65.14, 65.45, 65.21, 65.13, 65.28, 65.25, 65.52, 65.74, 66.53, 66.76, 66.86, 66.9, 66.76, 66.71, 66.94, 67.01, 66.87, 66.55, 66.75, 66.85, 67.07, 67.52, 67.16, 67.43, 67.76, 68.17, 68.03, 67.68, 67.64, 67.83, 67.43, 67.64, 67.58, 67.83, 68.38, 69.23, 68.52, 68.77, 68.78, 68.35, 68.88, 69.22, 69.14, 69.01, 68.8, 68.66, 68.78, 68.62, 68.31, 68.77, 69.53, 69.27, 69.48, 69.21, 69.11, 68.77, 68.94, 68.58, 68.44, 68.53, 68.64, 69.04, 68.83, 68.97, 68.97, 69.67, 69.76, 69.94, 70.18, 70.29, 70.49, 70.62, 70.68, 71.17, 71.15, 71.37, 70.74, 70.66, 70.73, 69.53]
# rfl_medal= [70.9,		65.4,		63.77,		60.34]
fedcspl_medal = [37.74, 43.57, 49.66, 52.9, 55.96, 58.04, 59.32, 60.62, 62.0, 62.85, 63.62, 64.34, 65.17, 65.19, 66.19, 66.51, 67.21, 67.67, 68.41, 68.59, 68.96, 69.35, 69.19, 69.67, 70.81, 70.13, 71.27, 71.91, 70.24, 70.3, 70.49, 71.9, 71.3, 70.42, 71.54, 70.17, 72.22, 72.04, 72.81, 72.48, 71.22, 72.59, 72.42, 73.45, 73.83, 73.77, 74.19, 74.39, 74.22, 74.6, 74.79, 73.49, 75.04, 74.41, 74.91, 75.24, 76.0, 75.03, 75.34, 75.15, 75.71, 75.79, 75.69, 75.99, 75.75, 75.69, 75.79, 74.84, 75.82, 75.81, 75.16, 74.98, 75.83, 76.42, 76.56, 76.55, 76.09, 75.8, 75.2, 75.3, 76.91, 77.28, 77.17, 77.33, 77.07, 77.56, 77.23, 77.12, 77.1, 77.48, 77.21, 77.16, 77.04, 77.3, 77.49, 77.0, 77.49, 77.43, 76.6, 77.57, 77.24]

len = len(fedcspl_medal)

# 创建折线图
# plt.plot(x, fedavg_medal, marker='o', label="Fedavg")
# plt.plot(x, fedrep_medal, marker='o', label="FedRep")
# plt.plot(x, ditto_medal, marker='o', label="Ditto")
# plt.plot(x, scaffold_medal, marker='o', label="Scaffold")
# plt.plot(x, fedpls_medal, marker='o', label="FedPLS")

# plt.plot(fedavg_medal_x, fedavg_medal,  label="Fedavg-FT")
# plt.plot(fedaprox_medal_x, fedaprox_medal, label="FedPorx")
# plt.plot(co_teaching_x, co_teaching, label="Co-teaching")
# # plt.plot(x, rfl_medal, marker='o', label="RFL")
# plt.plot(fedcspl_medal_x, fedcspl_medal, label="FedPLSN")

plt.plot(x2, fedavg_medal,  label="Fedavg")
plt.plot(x2, fedaprox_medal, label="FedPorx")
plt.plot(x, co_teaching, label="Co-teaching")
# plt.plot(x, rfl_medal, marker='o', label="RFL")
plt.plot(x, fedcspl_medal, label="FedPLSN")
# 设置标题和坐标轴标签

plt.title('CIFAR-10')
plt.ylabel('Test Accuracy(%)', fontsize=12)
plt.xlabel('Epoch', fontsize=12)
# 显示图表
# plt.grid(True, color='gray', linestyle='--')
plt.legend(loc="lower right")
plt.show()



